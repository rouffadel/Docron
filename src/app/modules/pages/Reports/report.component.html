<div *ngIf="(Screen==1)" class="flex flex-col flex-auto min-w-0">
<div class="flex flex-col flex-auto min-w-0">
    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">
        <!-- CONTENT GOES HERE -->
        <div class="flex flex-cols justify-between">
            <div class=" flex flex-cols gap-2 pt-8">
                <!-- *ngIf="Repdata" -->
                <mat-form-field  class="col-span-2 search1 custom-background" appearance="outline">
                    <mat-icon matPrefix>perm_identity</mat-icon>
                    <input matInput [(ngModel)]="searchKey" placeholder="Search"
                    autocomplete="off" (keyup)="applyFilter()" />
                    <mat-icon matPrefix>search</mat-icon>
                    <button mat-button matSuffix mat-icon-button aria-label="clear" *ngIf="searchKey"
                        (click)="onSearchClear()">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>

 
                <mat-form-field  style="width: 160px; position: relative;bottom: 2px;" class="col-span-2 search1 custom-background" appearance="outline">
                    <input matInput [matDatepicker]="picker1" [max]="toDate" placeholder="Select From Date"  [matDatepickerFilter]="fromDateFilter" [(ngModel)]="appFromDate" [(ngModel)]="fromDate" required />
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field>
                  
                  <mat-form-field  style="width: 150px; position: relative;bottom: 2px;" class="col-span-2 search1 custom-background" appearance="outline">
                    <input matInput [matDatepicker]="picker2" [min]="fromDate" placeholder="Select To Date" [matDatepickerFilter]="toDateFilter" [(ngModel)]="appToDate" [(ngModel)]="toDate" required />
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>
                  
                 
                
         <div class="mt-1">
                <!-- <button style="padding-top: 30px;" mat-raised-button color="primary" >
                    Search
                  </button>  -->

                  
                <button  class="fuse-mat-button-rounded  flex flex-col justify-end"
                mat-flat-button [color]="'primary'"
                (click)="GetPatientData(appFromDate,appToDate)">
                
                <span class="ml-2">Search</span>
            </button>
                </div>     
            </div>

           
            <div class="mt-1 " *ngIf="Repdata">
                <label>Total Amount  : </label>
                <label class="login_name"> {{patientTotalAmount}} /- </label>

                  <div class="flex mx-2">
                    <div class="mr-1">
                      <button mat-mini-fab color="primary" style="background-color: #ff6f3b !important; box-shadow: none;" (click)="ExportTOExcel()" matTooltip="Export To Excel">
                        <mat-icon svgIcon="mat_outline:sim_card_download"></mat-icon>
                      </button>
                    </div>
                    <div class="">
                      <button mat-mini-fab color="primary" style="background-color: #ff6f3b !important; box-shadow: none;" (click)="exportpdf()" matTooltip="Export To PDF">
                        <mat-icon svgIcon="mat_outline:picture_as_pdf"></mat-icon>
                      </button>
                    </div>
                  </div>
                  
                  
             </div>

             <mat-form-field *ngIf="Repdata" class="custom-background mt-8" appearance="outline">
                <!-- <mat-label>Select Columns</mat-label> -->
                <mat-select  multiple [(ngModel)]="selectedColumns" (selectionChange)="updateDisplayedColumns()">
                  <mat-select-trigger>
                    <span>Select Columns</span>
                  </mat-select-trigger>
                  <mat-option style="color: #212121; font-weight: 500;" *ngFor="let column of columnDefinitions" [value]="column.def">
                    {{ column.displayName }}
                  </mat-option>
                </mat-select>
              </mat-form-field>

        </div>
        

        <div *ngIf="Repdata" class="example-container3 mat-elevation-z8 h-grid3 mt-1" #TABLE>
            <div class="table-container3">
                <table class="table2" id="table2" mat-table [dataSource]="patientsappointments" matSort>
                    <ng-container matColumnDef="Patient ARCID">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Patient ARCID
                        </th>
                        <td mat-cell *matCellDef="let element">{{ element.patientARCID }}</td>
                    </ng-container>
        
                    <ng-container matColumnDef="SL">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            SL
                        </th>
                        <td mat-cell *matCellDef="let element">{{ element.appointmentID }}</td>
                    </ng-container>
        
                    <ng-container matColumnDef="Patient">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Patient Name & Gender
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <b>{{ element.patient }}</b> ({{ element.gender | slice:0:1 }}, {{ element.age }}y)
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="Mobile">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Phone Number
                        </th>
                        <td mat-cell *matCellDef="let element">{{ element.mobile }}</td>
                    </ng-container>
        
                    <ng-container matColumnDef="Service Name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Service Name
                        </th>
                        <td mat-cell *matCellDef="let element">{{ element.serviceName }}</td>
                    </ng-container>
        
                    <ng-container matColumnDef="Last Visit">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Last Visit
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <b>{{ element.serviceDate }}</b>
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="Visit Count">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Visit Count
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <b>{{ element.visitCount }}</b>
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="Payment">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Payment
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <b>{{ element.payment }}</b>
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="ModeofPayment">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-lg text-white">
                            Mode Of Payment
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <b>{{ element.modeofPayment }}</b>
                        </td>
                    </ng-container>
        
                    <tr mat-header-row class="height3" *matHeaderRowDef="displayedColumns; sticky: true" style="background-color: #A9A9A9;"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                </table>
            </div>
            <mat-paginator *ngIf="Repdata" class="sticky-paginator3" [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="100" showFirstLastButtons></mat-paginator>
        </div>
        

        <div  *ngIf="!Repdata" style="text-align: center;">
                


            <div class="center-container">
                <img class="w-16" style="opacity: 0.5;" src="assets/images/logo/imgs1.svg" alt="Fuse logo">

            </div>
<br>
<div class="center-container1">
<h2 style="color: #146aa6;    margin-top: -59px;">
<b>No Reports  data  Found </b> 
</h2>
</div>
            <!-- <mat-icon svgIcon="heroicons_solid:x-circle"></mat-icon> -->

        </div>
    </div>
</div>

</div>
