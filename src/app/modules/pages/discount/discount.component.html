<!-- table -->
<div class="flex flex-col p-9 flex-auto min-w-0 mt-1">
  
    <div class="grid-container mt-12 sm:mt-0">
        <mat-form-field class="search1 custom-background" appearance="outline">
          <mat-icon matPrefix>perm_identity</mat-icon>
          <input matInput type="text" [(ngModel)]="searchKey" (keyup)="doFilter1(searchKey, 1)" placeholder="Search Discount">
          <button mat-button *ngIf="searchKey" matSuffix (click)="clearSearch()">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
      
        <div></div> <!-- Empty Part -->
      
        <div></div> <!-- Empty Part -->
      
        <button class="fuse-mat-button-rounded flex flex-col justify-end"
          mat-flat-button [color]="'primary'"
          (click)="openSaveDrawer()" 
          style="width: 175px; background-color:#ff6f3b;">
          <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:plus'"></mat-icon>
          <span class="ml-2">Add Discount</span>
        </button>
      
        <mat-form-field class="custom-background" appearance="outline">
          <mat-select multiple [(ngModel)]="selectedColumns" (selectionChange)="updateDisplayedColumns()">
            <mat-select-trigger>
              <span>Select Columns</span>
            </mat-select-trigger>
            <mat-option style="color: #212121; font-weight: 500;" *ngFor="let column of columnDefinitions" [value]="column.def" [disabled]="column.def === 'Actions'">
              {{ column.displayName }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
    <div class="example-container mat-elevation-z8 h-grid">
        <div class="table-container">
            <table class="table1" mat-table [dataSource]="discounts">
                <ng-container matColumnDef="mobile">
                    <th mat-header-cell *matHeaderCellDef class="text-lg text-white">
                        S.NO
                    </th>
                    <td mat-cell *matCellDef="let i=index">
                        <span>{{i+1}}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef class="text-lg text-white">
                        Discount
                    </th>
                    <td mat-cell *matCellDef="let element">
                        <span>{{ element.discount }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="Actions">
                    <th mat-header-cell *matHeaderCellDef class="text-lg text-white">
                        Actions
                    </th>
                    <td mat-cell *matCellDef="let element">
                        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                            <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="openUpdateDrawer(element.discountID)">
                                <mat-icon svgIcon="heroicons_solid:pencil-alt"></mat-icon>
                                <span>Edit</span>
                            </button>
                            <button mat-menu-item (click)="deletediscount(element.discountID)">
                                <mat-icon svgIcon="heroicons_solid:trash"></mat-icon>
                                <span>Delete</span>
                            </button>
                        </mat-menu>
                    </td>
                </ng-container>
                <ng-container matColumnDef="Slots">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let row">
                        <div (click)="rowData(row)"></div>
                    </td>
                </ng-container>
    
                <tr mat-header-row class="height" *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
        </div>
        <div class="paginator-container">
            <mat-paginator [length]="totalCount" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 25, 100]">
            </mat-paginator>
        </div>
    </div>
    


</div>

<fuse-drawer class="w-screen min-w-screen sm:w-100 sm:min-w-200 z-999" fixed [mode]="'over'" [name]="'drawer'"
[position]="'right'" #drawer>
<div class="flex flex-col w-full overflow-auto bg-card">
<div class="  flex flex-row items-center px-6 h-20 min-h-20  text-white  Overlays">
    <mat-icon class="icon-size-7 text-current" [svgIcon]="'heroicons_solid:plus'"></mat-icon>
    <div class="ml-3 text-2xl font-semibold tracking-tight">New Discount</div>
    <button class="ml-auto" mat-icon-button (click)="drawer.close()">
        <mat-icon class="text-current" [svgIcon]="'heroicons_outline:x'"></mat-icon>
    </button>
</div>
<div class="flex flex-col p-6">
    <div class="flex flex-col gt-xs:flex-row">

        <fieldset class="scheduler-border" [formGroup]="form">
            <div class="row"> 
                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <mat-form-field class="custom-width" appearance="outline">
                        <mat-label>Discount</mat-label>
                        <input matInput [formControlName]="'discount'" [(ngModel)]="discount.discount" required />
                    </mat-form-field>
                </div>
                
                
            </div>
            
          
        </fieldset>

        <div *ngIf="submitbtn" class="flex justify-end">
            <ng-container *ngIf="showError">
                <mat-icon class="text-red-600" svgIcon="heroicons_outline:exclamation-circle"></mat-icon>
                <span class="text-red-600">Failed to add Discount Already Discount Exist</span> 
                </ng-container>
            <button class="fuse-mat-button-rounded  flex flex-col justify-end"
            [ngClass]=" !discount.discount ? 'btnsub' : 'btnsub1'"
             (click)="adddiscount()">
            Submit
        </button>
        </div>

        <div *ngIf="Updatebtn" class="flex justify-end">
            <ng-container *ngIf="showError">
                <mat-icon class="text-red-600" svgIcon="heroicons_outline:exclamation-circle"></mat-icon>
                <span class="text-red-600">Failed to Update Discount Already Discount Exist</span> 
                </ng-container>
            <button class="px-8" 
             [ngClass]="  !discount.discount ? 'btnsub' : 'btnsub1'" 
             (click)="updatediscount()" [disabled]="form.invalid" type="button">
                Update
            </button>
        </div>
    </div>
</div>
</div>
</fuse-drawer>


